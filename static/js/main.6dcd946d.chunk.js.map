{"version":3,"sources":["components/FootNav/index.jsx","page/Home/HeadBar/index.jsx","components/Swiper/index.jsx","page/Home/Find/index.jsx","page/Home/index.jsx","page/Life/index.jsx","page/Shop/index.jsx","page/Mine/index.jsx","components/HeadBar/index.jsx","page/City/HotCity/index.jsx","page/actions/index.jsx","page/constants/index.jsx","page/City/index.jsx","App.js","page/Search/SearchHeader/index.jsx","page/Search/SearchList/SearchView/index.jsx","page/Search/SearchList/index.jsx","page/Search/index.jsx","router/AppRouter.jsx","page/reducers/City.jsx","page/reducers/index.jsx","index.js","page/store/index.jsx"],"names":["FootNav","className","exact","to","HomeOutlined","ShopOutlined","TrophyOutlined","TeamOutlined","React","Component","HeadBar","createFromIconfontCN","scriptUrl","props","state","value","event","this","setState","target","keyCode","history","push","id","city","DownOutlined","SearchOutlined","type","placeholder","onKeyUp","onkeyUpValue","bind","onChange","onChangeValue","ShoppingCartOutlined","style","fontSize","color","Swiper","resultData","fetch","then","res","console","log","json","data","result","leght","length","map","index","key","src","firstImageUrl","alt","Find","bannerUrl","Home","City","cityName","connect","Life","Shop","Mine","OnClickBack","window","back","LeftOutlined","onClick","HotCity","OnclickItem","initCity","updateCity","cityName1","cityActions","OnClickCityName","dispatch","bindActionCreators","App","children","SearchHeader","replace","SearchView","element","extra","mainImage","expStatus","channelName","subject","SearchList","a","resultDataList","prevProps","prevState","content","getData","context","method","headers","body","JSON","stringify","Search","match","params","AppRouter","path","component","rootReducers","combineReducers","action","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6dcd946d.chunk.js","sourcesContent":["import React from \"react\"\r\nimport {HomeOutlined,ShopOutlined,TrophyOutlined,TeamOutlined} from '@ant-design/icons';\r\nimport {NavLink} from \"react-router-dom\"\r\nimport \"./style.less\"\r\nexport default class FootNav extends React.Component{\r\nrender(){\r\n    return(\r\n        <div className=\"nav-footer\">\r\n        <ul >\r\n             <li>\r\n           <NavLink exact to=\"/\">\r\n               <HomeOutlined className=\"icon\"/> \r\n               首页\r\n               </NavLink>\r\n               </li>\r\n\r\n               <li>\r\n           <NavLink  to=\"/shop\">\r\n               <ShopOutlined className=\"icon\"/>\r\n               商城\r\n               </NavLink>\r\n               </li>\r\n\r\n               <li>\r\n           <NavLink  to=\"/life\">\r\n               <TrophyOutlined className=\"icon\"/>\r\n               生活服务\r\n               </NavLink>\r\n               </li>\r\n               \r\n               <li>\r\n           <NavLink  to=\"/mine\">\r\n               <TeamOutlined className=\"icon\"/>\r\n               我的\r\n               </NavLink>\r\n               </li>\r\n        </ul>\r\n        </div>\r\n    )\r\n}\r\n}","import React from \"react\"\r\nimport {\r\n    DownOutlined,\r\n    ShoppingCartOutlined,\r\n    SearchOutlined,\r\n    createFromIconfontCN\r\n} from '@ant-design/icons';\r\nimport \"./style.less\"\r\nimport { Link } from \"react-router-dom\"\r\nconst MyIcon = createFromIconfontCN({\r\n    scriptUrl: '//at.alicdn.com/t/font_1931039_uy3cvhj487.js', // 在 iconfont.cn 上生成\r\n});\r\nexport default class HeadBar extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state={\r\n            value: \"\"\r\n        }\r\n    }\r\n\r\n    onChangeValue(event) {\r\n        this.setState({\r\n            value: event.target.value\r\n        })\r\n    }\r\n\r\n    onkeyUpValue(event){\r\n    if(event.keyCode==13){\r\n        this.props.history.push(\"/search\"+\"/\"+this.state.value)\r\n    }\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div id=\"home-headbar\" className=\"clear-fix\">\r\n                <div className=\"home-head-left float-left\">\r\n                    <Link to=\"/city\" className=\"link\">\r\n                        <span>{this.props.city}</span>\r\n                        <DownOutlined />\r\n                    </Link>\r\n                </div>\r\n                <div className=\"home-head-middle\">\r\n\r\n                    <SearchOutlined className=\"icon-search\" />\r\n                    <input\r\n                        type=\"text\"\r\n                        value={this.state.value}\r\n                        placeholder=\"请输入搜索内容\"\r\n                        onKeyUp={this.onkeyUpValue.bind(this)}\r\n                        onChange={this.onChangeValue.bind(this)}\r\n                    />\r\n\r\n                </div>\r\n                <div className=\"home-head-right float-right\">\r\n                    <ShoppingCartOutlined style={{ fontSize: '15px', color: 'white' }} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\"\r\nimport \"./style.less\"\r\nimport SwipeableViews from 'react-swipeable-views'\r\n\r\nexport default class Swiper extends React.Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            resultData: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch(\"/nextstore-web/bomb/getBannerIndexList?moduleType=3\")\r\n            .then(res =>{\r\n                console.log(res)\r\n                return res.json()\r\n            } )\r\n            .then(data => {\r\n                console.log(data);\r\n                this.setState({\r\n                    resultData: data.result\r\n                })\r\n            })\r\n      \r\n    }\r\n    render() {\r\n        const leght = this.state.resultData.length\r\n        return (\r\n            <SwipeableViews id=\"swipeableViews\">\r\n\r\n                {leght > 0 ? (\r\n\r\n                    this.state.resultData.map((data, index) => {\r\n                        return (<div key={index}>\r\n                            <img  src={data.firstImageUrl} alt=\"加载失败\" />\r\n                        </div>)\r\n\r\n                    })) : (<div style={{fontSize:\"15px\"}}> 正在加载...</div>)\r\n                }\r\n\r\n            </SwipeableViews>\r\n        )\r\n    }\r\n}","import React from \"react\"\r\nimport \"./style2.less\"\r\nexport default class Find extends React.Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            resultData: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        fetch(\"/nextstore-web/api/channelBanner/list?channelType=2\")\r\n            .then(res => {\r\n                console.log(res)\r\n                return res.json()\r\n            })\r\n            .then(data => {\r\n                console.log(data);\r\n                this.setState({\r\n                    resultData: data.result\r\n                })\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"find\">\r\n                <h2>热门推荐</h2>\r\n               <ul id=\"findUl\">\r\n                    {\r\n                        this.state.resultData.map((data, index) => {\r\n                            return (\r\n                                <li key={index}>\r\n                                    <img  src={data.bannerUrl} alt=\"\" />\r\n                                </li>\r\n                            )\r\n                        })\r\n                    }\r\n                </ul>\r\n            </div>\r\n           \r\n           \r\n        )\r\n    }\r\n\r\n}","import React from \"react\"\r\nimport FootNav from \"../../components/FootNav\"\r\nimport HeadBar from \"./HeadBar\"\r\nimport Swiper from \"../../components/Swiper\"\r\nimport Find from \"./Find\"\r\nimport {connect} from 'react-redux'\r\n class Home extends React.Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n               \r\n              \r\n                <Swiper />\r\n                <Find />\r\n                <HeadBar city={this.props.City.cityName} history={this.props.history}/>\r\n                <FootNav />\r\n               \r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps=state=>{\r\n    return{\r\n        City:state.City\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(Home)","import React from \"react\"\r\nimport FootNav from \"../../components/FootNav\"\r\nexport default class Life extends React.Component{\r\nrender(){\r\n    return(\r\n        <div>\r\n            Life\r\n            <FootNav/>\r\n        </div>\r\n    )\r\n}\r\n}","import React from \"react\"\r\nimport FootNav from \"../../components/FootNav\"\r\nexport default class Shop extends React.Component{\r\nrender(){\r\n    return(\r\n        <div>\r\n            Shop\r\n            <FootNav/>\r\n        </div>\r\n    )\r\n}\r\n}","import React from \"react\"\r\nimport FootNav from \"../../components/FootNav\"\r\nexport default class Mine extends React.Component{\r\nrender(){\r\n    return(\r\n        <div>\r\n            Mine\r\n            <FootNav/>\r\n        </div>\r\n    )\r\n}\r\n}","import React from 'react'\r\nimport { LeftOutlined } from '@ant-design/icons';\r\nimport \"./style.less\"\r\nexport default class HeadBar extends React.Component{\r\n\r\n    OnClickBack=()=>{\r\n        window.history.back(-1)\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div id=\"header\">\r\n                \r\n                 <LeftOutlined className=\"leftOutlined\" onClick={this.OnClickBack}/>\r\n                 <h1 className=\"headH1\">{this.props.city}</h1>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react'\r\nimport \"./style.less\"\r\n\r\nexport default class HotCity extends React.Component {\r\n    OnclickItem=(data)=>{\r\n        console.log(data);\r\n        this.props.cityName(data)\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"hotCity\">\r\n                <h1>热门城市</h1>\r\n                <ul>\r\n                    <li onClick={this.OnclickItem.bind(this,\"北京\")}>北京</li>\r\n                    <li onClick={this.OnclickItem.bind(this,\"上海\")}>上海</li>\r\n                    <li onClick={this.OnclickItem.bind(this,\"杭州\")}>杭州</li>\r\n                    <li onClick={this.OnclickItem.bind(this,\"广州\")}>广州</li>\r\n                    <li onClick={this.OnclickItem.bind(this,\"苏州\")}>苏州</li>\r\n                    <li onClick={this.OnclickItem.bind(this,\"深圳\")}>深圳</li>\r\n                    <li onClick={this.OnclickItem.bind(this,\"南京\")}>南京</li>\r\n                    <li onClick={this.OnclickItem.bind(this,\"合肥\")}>合肥</li>\r\n                    <li onClick={this.OnclickItem.bind(this,\"西安\")}>西安</li>\r\n                    <li onClick={this.OnclickItem.bind(this,\"宁波\")}>宁波</li>\r\n                    <li onClick={this.OnclickItem.bind(this,\"青岛\")}>青岛</li>\r\n                    <li onClick={this.OnclickItem.bind(this,\"天津\")}>天津</li>\r\n                </ul>\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n}","import React from 'react'\r\nimport * as myConstants from '../constants'\r\nexport function initCity(data){\r\n    return{\r\n       type:myConstants.INIT_CITY,\r\n       data\r\n    }\r\n}\r\n\r\n\r\nexport function updateCity(data){\r\n    return{\r\n       type:myConstants.UPDATE_CITY,\r\n       data\r\n    }\r\n}","export const INIT_CITY=\"initCity\"\r\n\r\nexport const UPDATE_CITY=\"updateCity\"","import React from 'react'\r\nimport HeadBar from '../../components/HeadBar'\r\nimport HotCity from './HotCity'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport * as cityActions from '../actions'\r\nclass City extends React.Component {\r\n    OnClickCityName(cityName1) {\r\n        console.log(cityName1);\r\n      \r\n        this.props.cityActions.updateCity({\r\n            cityName:cityName1\r\n          })\r\n        window.history.back(-1)\r\n    }\r\n    render() {\r\n        return (\r\n            <div >\r\n                <HeadBar city={\"上海\"} />\r\n                <HotCity cityName={this.OnClickCityName.bind(this)} />\r\n            </div>\r\n        )\r\n    }\r\n};\r\nconst mapStateToProps = state => {\r\n  return {\r\n    City: state.City\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    cityActions: bindActionCreators(cityActions, dispatch)\r\n  }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(City)","import React from 'react';\r\nimport AppRouter from './router/AppRouter';\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport * as cityActions from './page/actions'\r\nclass App extends React.Component {\r\n\r\n  componentDidMount() {\r\n    this.props.cityActions.initCity({\r\n      cityName: \"南京\"\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>{this.props.children}</div>\r\n    )\r\n  }\r\n\r\n};\r\nconst mapStateToProps = state => {\r\n  return {\r\n    City: state.City\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    cityActions: bindActionCreators(cityActions, dispatch)\r\n  }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\r\n","import React from 'react'\r\nimport './style.less'\r\nimport {\r\n    LeftOutlined,\r\n    SearchOutlined\r\n} from '@ant-design/icons';\r\nexport default class SearchHeader extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state={\r\n            value: \"\"\r\n        }\r\n    }\r\n\r\n    onChangeValue(event) {\r\n        this.setState({\r\n            value: event.target.value\r\n        })\r\n    }\r\n\r\n    onkeyUpValue(event){\r\n    if(event.keyCode==13){\r\n        this.props.history.replace(\"/search\"+\"/\"+this.state.value)\r\n    }\r\n    }\r\n    OnClickBack() {\r\n        window.history.back(-1)\r\n    }\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"searchHeader\">\r\n                <div className=\"flex-item_1\">\r\n                    <LeftOutlined className=\"leftOutlined\" onClick={this.OnClickBack.bind(this)} />\r\n                </div>\r\n\r\n                <div className=\"flex-item_2\">\r\n                    <SearchOutlined className=\"icon-search\" />\r\n                    <input\r\n                        type=\"text\"\r\n                        value={this.state.value}\r\n                        placeholder=\"请输入搜索内容\"\r\n                        onKeyUp={this.onkeyUpValue.bind(this)}\r\n                        onChange={this.onChangeValue.bind(this)}\r\n\r\n                    />\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react'\r\nimport './style.less'\r\nexport default class SearchView extends React.Component {\r\n    componentDidMount() {\r\n\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"search-view\">\r\n                {\r\n                    this.props.data.result.map((element, index) => {\r\n                        return (\r\n                            <div className=\"search-content\" key={index}>\r\n                                <div className=\"searchImg\">\r\n                                <img src={element.extra.mainImage} alt=\"\" />\r\n                                <div className=\"expStatus\">\r\n                                    <label >{\"ExP \"+element.expStatus}</label>\r\n                                </div>\r\n                                </div>\r\n                               \r\n                                <div className=\"channelName\">\r\n                                    <label >{element.channelName}</label>\r\n                                </div>\r\n                                <div className=\"subject\">\r\n                                    <p >{element.subject}</p>\r\n                                </div>\r\n                               \r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react'\r\nimport SearchView from './SearchView'\r\n\r\nexport default class SearchList extends React.Component {\r\n    a = 0\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            resultData: {},\r\n            resultDataList: []\r\n        }\r\n    }\r\n    componentWillUpdate(prevProps, prevState) {\r\n        console.log(this.props.content + \"===\" + prevProps + \"===\" + prevState);\r\n\r\n        this.a++\r\n        if (this.a == 5) {\r\n            return\r\n        }\r\n        \r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        // 再次做网络请求就可以了\r\n        const content = this.props.content;\r\n        console.log(prevProps.content+\"==\"+content); // 上一次的props\r\n        if(prevProps.content === content){\r\n            return;\r\n        }\r\n        this.getData(content)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData(this.props.content)\r\n\r\n    }\r\n\r\n    getData(context) {\r\n        fetch(\"/nextstore-web/esb/getTagArticle\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                'content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                \"pageNo\": 1,\r\n                \"pageSize\": \"10\",\r\n                \"tagId\": context,\r\n                \"userId\": \"2000219214\"\r\n            })\r\n        }).then(res => res.json())\r\n            .then(data => {\r\n                this.setState({\r\n                    resultData: data.result,\r\n                    resultDataList: data.result.result,\r\n                })\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {\r\n                    this.state.resultDataList.length > 0 ? <SearchView data={this.state.resultData} /> : <div style={{ fontSize: \"18px\" }}> 正在加载.... </div>\r\n                }\r\n\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react'\r\nimport SearchHeader from './SearchHeader';\r\nimport SearchList from './SearchList';\r\n\r\nexport default class Search extends React.Component {\r\n    componentDidMount() {\r\n        console.log(this.props.match.params.content);\r\n    }\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n               <SearchHeader history={this.props.history}/>\r\n               <SearchList content={this.props.match.params.content}/>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\"\r\nimport { Route, HashRouter, Switch } from \"react-router-dom\"\r\nimport Home from \"../page/Home\"\r\nimport Life from \"../page/Life\"\r\nimport Shop from \"../page/Shop\"\r\nimport Mine from \"../page/Mine\"\r\nimport City from \"../page/City\"\r\nimport App from \"../App\"\r\nimport Search from \"../page/Search\"\r\nexport default class AppRouter extends React.Component {\r\n    render() {\r\n        return (\r\n            <HashRouter>\r\n                <App>\r\n                    <Switch>\r\n                        <Route exact path=\"/\" component={Home}></Route>\r\n                        <Route path=\"/life\" component={Life}></Route>\r\n                        <Route path=\"/shop\" component={Shop}></Route>\r\n                        <Route path=\"/mine\" component={Mine}></Route>\r\n                        <Route path=\"/city\" component={City}></Route>\r\n                        <Route path=\"/search/:content\" component={Search}></Route>\r\n                    </Switch>\r\n                </App>\r\n            </HashRouter>\r\n        )\r\n    }\r\n}","import React from 'react'\r\nimport * as cityActions from '../actions'\r\nimport * as myConstants from '../constants'\r\nconst initCity={}\r\nexport default function city(state=initCity,action){\r\nswitch(action.type){\r\n    case myConstants.INIT_CITY:\r\n        return state=action.data;\r\n    case myConstants.UPDATE_CITY:\r\n        return state=action.data;\r\n    default:\r\n        return state;\r\n}\r\n}","import { combineReducers } from 'redux'\r\nimport City from './City'\r\nconst rootReducers = combineReducers({\r\n    City\r\n})\r\nexport default rootReducers","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport AppRouter from './router/AppRouter';\r\nimport \"./static/css/common.less\"\r\nimport configureStore from './page/store'\r\nimport {Provider} from 'react-redux'\r\nconst store=configureStore()\r\nReactDOM.render(\r\n <Provider store={store}>\r\n <AppRouter />\r\n </Provider>\r\n   \r\n  ,\r\n  document.getElementById('root')\r\n);\r\n\r\n","import {createStore} from 'redux'\r\nimport rootReducers from '../reducers'\r\n\r\n\r\n\r\nexport default function configureStore(){\r\n    const store =createStore(rootReducers,\r\n        window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__())\r\n    return store\r\n}"],"sourceRoot":""}